@using FypEvaluationSystem.Models
@{
    ViewBag.Title = "DisplayForm";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";

    List<Evaluated_form> data = ViewBag.forms;
    
}


<div class="container mb-3 mt-3 pt-4">
    <h2 class="mt-5">Evaluated Form</h2>

    <table id="mydatatable" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Project Title</th>
                <th>Supervisor</th>
                <th>Leader ID</th>
                <th>Status</th>
                <th>View</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var elem in data)
            {
                <tr>
                    <td>@elem.Project_title</td>
                    <td>@elem.Supervisor_name</td>
                    <td>@elem.Leader_id</td>
                    <td>@elem.Form_status</td>
                    <td><a href="/Admin/FormData?Form_id=@elem.Form_id" class="view-form" id=@elem.Form_id>view form</a></td>
                    @*<td>@Html.ActionLink("View Form", "FormDesignEval", "Admin", new { elem.Form_id, elem.Form_template_id})</td>*@
                </tr>
            }
        </tbody>


    </table>
</div> 
@*<script src="~/Scripts/Custom/jquery-3.4.1.min.js"></script>
<script>
    $(document).ready(function () {
    $('.view-form').click(function () {
;

        var id = $(this).attr("id");
        a = id;

        $.ajax({
            url: '/Admin/ViewForms',
            type: "GET",
            //data: { Form_id: a.toString() },
            cache: false,
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (da) { }
        });

    })
});
</script>*@